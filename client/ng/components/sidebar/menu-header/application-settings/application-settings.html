<md-content class="application-settings-panel" role="dialog" layout="column">
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h2>User settings</h2>
    </div>
  </md-toolbar>

  <md-tabs md-dynamic-height md-border-bottom>
    <md-tab label="general">
      <!-- general tab -->
      <md-content class="md-padding panel-content more-padding" layout="column">
        <span class="md-title section-title">Notifications</span>
        <div layout="row">
          <div flex>
            <p>Enable sound</p>
          </div>
          <div flex>
            <md-switch class="float-right" ng-model="$ctrl.settings.general.notifications.sound"
                       aria-label="Enable sound"
                       ng-change="$ctrl.submit()">
           </md-switch>
          </div>
        </div>
        <div layout="row">
          <div flex>
            <p>Enable notifications</p>
          </div>
          <div flex>
            <md-switch class="float-right" ng-model="$ctrl.settings.general.notifications.toast"
                       aria-label="Enable notifications"
                       ng-change="$ctrl.submit()">
           </md-switch>
          </div>
        </div>

        <span class="md-title section-title">Appearance</span>
        <div layout="row">
          <div flex>
            <p>Choose theme</p>
          </div>
          <div flex>
            <md-select class="float-right" ng-model="$ctrl.settings.general.themeId"
                       aria-label="Choose theme"
                       ng-change="$ctrl.submit()">
              <md-option ng-repeat="theme in $ctrl.availableThemes" ng-value="theme._id">
                {{ theme.name }}
              </md-option>
           </md-select>
          </div>
        </div>

        <span class="md-title section-title">Language</span>
        <div layout="row">
          <div flex>
            <p>Choose language</p>
          </div>
          <div flex>
            <md-select class="float-right" ng-model="$ctrl.settings.general.languageId"
                       aria-label="Choose theme"
                       ng-change="$ctrl.submit()">
              <md-option ng-repeat="language in $ctrl.availableLanguages" ng-value="language._id">
                {{ language.name }}
              </md-option>
           </md-select>
          </div>
        </div>
      <md-content>
      <!-- general tab end -->
    </md-tab>

    <md-tab label="account">
      <!-- account tab -->
      <md-content class="md-padding panel-content more-padding" layout="column">
        <form name="bioForm" ng-submit="$ctrl.submitBio(bioForm)">
          <div class="section-title" layout="row" layout-align="space-between center">
            <span class="md-title">Bio</span>
            <div class="section-controls">
              <md-button class="md-icon-button section-button"
                         ng-hide="$ctrl.isBioEditable"
                         ng-click="$ctrl.editBio()">
                <md-tooltip>Edit</md-tooltip>
                <md-icon>create</md-icon>
              </md-button>
              <md-button class="md-icon-button section-button"
                         ng-show="$ctrl.isBioEditable"
                         ng-click="$ctrl.cancelBio(bioForm)">
                <md-tooltip>Cancel</md-tooltip>
                <md-icon>clear</md-icon>
              </md-button>
              <md-button class="md-icon-button section-button"
                         type="submit"
                         ng-show="$ctrl.isBioEditable">
                <md-tooltip>Save</md-tooltip>
                <md-icon>done</md-icon>
              </md-button>
            </div>
          </div>
          <div layout="row">
            <md-input-container flex class="md-block" md-no-float>
              <textarea ng-model="$ctrl.settings.account.bio"
                        md-maxlength="300"
                        rows="4"
                        md-select-on-focus
                        placeholder="Say something about yourself"
                        ng-disabled="!$ctrl.isBioEditable">
              </textarea>
            </md-input-container>
          </div>
        </form>
      </md-content>
    </md-tab>
    <!-- account tab end -->
  </md-tabs>

  <md-content class="panel-controls" layout="row" layout-align="center center">
    <md-button class="md-primary md-raised" ng-click="$ctrl.close()">
      Close
    </md-button>
  </md-content>
</md-content>
